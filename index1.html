<!doctype html>
<html lang="en">
<head>
Â  <meta charset="utf-8" />
Â  <meta name="viewport" content="width=device-width,initial-scale=1" />
Â  <title>Lantern Festival Date Proposal</title>

Â  <link rel="preconnect" href="https://fonts.googleapis.com">
Â  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
Â  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

Â  <style>
Â  Â  :root{
Â  Â  Â  --gold: #ffd98a;
Â  Â  Â  --pink: #ff6fb1;
Â  Â  Â  --orange: #ff9a4d;

Â  Â  Â  --bg-url: url("https://allenjoystudio.com/cdn/shop/files/Floating_Lanterns_Castle_Photography_Backdrop_GB_00911_grande.jpg?v=1723254354");
Â  Â  Â  --lantern-symbol: url("https://diypixiedust.com/wp-content/uploads/2020/02/tangled_lantern_tangledboats_border_round_gold.png");
Â  Â  }

Â  Â  *{ box-sizing:border-box; }
Â  Â  html,body{ height:100%; }
Â  Â  body{
Â  Â  Â  margin:0;
Â  Â  Â  overflow:hidden;
Â  Â  Â  color:#fff;
Â  Â  Â  font-family:"Montserrat",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
Â  Â  Â  background:#040512;
Â  Â  }

Â  Â  .scene{
Â  Â  Â  position:relative;
Â  Â  Â  width:100%;
Â  Â  Â  height:100%;
Â  Â  Â  background-image: var(--bg-url);
Â  Â  Â  background-size: cover;
Â  Â  Â  background-position: center;
Â  Â  Â  filter: saturate(1.05) contrast(1.05);
Â  Â  }
Â  Â  .scene::before{
Â  Â  Â  content:"";
Â  Â  Â  position:absolute; inset:0;
Â  Â  Â  background:
Â  Â  Â  Â  radial-gradient(1200px 700px at 50% 55%, rgba(255,180,120,0.10), transparent 70%),
Â  Â  Â  Â  radial-gradient(900px 550px at 65% 40%, rgba(255,110,170,0.08), transparent 70%),
Â  Â  Â  Â  linear-gradient(to top, rgba(0,0,0,0.55), rgba(0,0,0,0.25) 40%, rgba(0,0,0,0.55));
Â  Â  Â  pointer-events:none;
Â  Â  }
Â  Â  .scene::after{
Â  Â  Â  content:"";
Â  Â  Â  position:absolute; inset:-2px;
Â  Â  Â  background: radial-gradient(120% 120% at 50% 50%, transparent 45%, rgba(0,0,0,0.70) 100%);
Â  Â  Â  pointer-events:none;
Â  Â  Â  mix-blend-mode:multiply;
Â  Â  }

Â  Â  .stars{
Â  Â  Â  position:absolute; inset:0;
Â  Â  Â  pointer-events:none;
Â  Â  Â  background-image:
Â  Â  Â  Â  radial-gradient(1px 1px at 15% 20%, rgba(255,255,255,0.7), transparent 60%),
Â  Â  Â  Â  radial-gradient(1px 1px at 35% 15%, rgba(255,255,255,0.55), transparent 60%),
Â  Â  Â  Â  radial-gradient(1.2px 1.2px at 60% 25%, rgba(255,255,255,0.7), transparent 60%),
Â  Â  Â  Â  radial-gradient(1px 1px at 78% 12%, rgba(255,255,255,0.5), transparent 60%),
Â  Â  Â  Â  radial-gradient(1.1px 1.1px at 88% 30%, rgba(255,255,255,0.6), transparent 60%),
Â  Â  Â  Â  radial-gradient(1px 1px at 12% 55%, rgba(255,255,255,0.45), transparent 60%),
Â  Â  Â  Â  radial-gradient(1.2px 1.2px at 42% 62%, rgba(255,255,255,0.55), transparent 60%),
Â  Â  Â  Â  radial-gradient(1px 1px at 72% 58%, rgba(255,255,255,0.45), transparent 60%);
Â  Â  Â  opacity:0.55;
Â  Â  Â  filter: blur(0.2px);
Â  Â  }

Â  Â  .lantern-layer{
Â  Â  Â  position:absolute; inset:0;
Â  Â  Â  pointer-events:none;
Â  Â  Â  overflow:hidden;
Â  Â  }

Â  Â  /* --- Lantern (CodePen-style) --- */
Â  Â  .lantern{
Â  Â  Â  position:absolute;
Â  Â  Â  left:50%;
Â  Â  Â  top:0; /* JS will randomize this */
Â  Â  Â  transform: translateX(-50%);
Â  Â  Â  opacity: var(--op, 0.6);
Â  Â  Â  will-change: transform;
Â  Â Â 
Â  Â  Â  width: var(--size, 56px);
Â  Â  Â  height: calc(var(--size, 56px) * 1.55);
Â  Â Â 
Â  Â  Â  filter:
Â  Â  Â  Â  drop-shadow(0 0 12px rgba(255, 210, 140, 0.45))
Â  Â  Â  Â  drop-shadow(0 0 22px rgba(255, 4520, 190, 0.20));
Â  Â Â 
Â  Â  Â  animation:
Â  Â  Â  Â  floatUp var(--dur, 10s) linear var(--delay, 0s) infinite,
Â  Â  Â  Â  swayÂ  Â var(--sway, 4.6s) ease-in-out var(--delay, 0s) infinite;
Â  Â  }
Â  Â Â 
Â  Â  /* Small vertical float so they stay scattered */
Â  Â  @keyframes floatUp{
Â  Â  Â  from { transform: translateX(-50%) translateY(120px); }
Â  Â  Â  toÂ  Â { transform: translateX(-50%) translateY(-120px); }
Â  Â  }


Â  Â  .layer-back .lantern{
Â  Â  Â  opacity: var(--op, 0.40);
Â  Â  Â  filter: blur(0.35px) drop-shadow(0 0 9px rgba(255, 210, 140, 0.20)) drop-shadow(0 0 16px rgba(255, 120, 190, 0.12));
Â  Â  }
Â  Â  .layer-mid .lantern{
Â  Â  Â  opacity: var(--op, 0.58);
Â  Â  Â  filter: drop-shadow(0 0 10px rgba(255, 210, 140, 0.32)) drop-shadow(0 0 18px rgba(405, 1230, 190, 0.16));
Â  Â  }
Â  Â  .layer-front .lantern{
Â  Â  Â  opacity: var(--op, 0.78);
Â  Â  Â  filter: drop-shadow(0 0 14px rgba(255, 220, 160, 0.50)) drop-shadow(0 0 28px rgba(255, 120, 190, 0.22));
Â  Â  }

Â  Â  /* Float within the top 60%:
Â  Â  Â  Â start a bit below that band, end near the top edge */
Â  Â  @keyframes floatUp{
Â  Â  Â  from { transform: translateX(-50%) translateY(40vh); }Â  /* roughly around mid-screen */
Â  Â  Â  toÂ  Â { transform: translateX(-50%) translateY(-62vh); } /* up past top */
Â  Â  }
Â  Â  @keyframes sway{
Â  Â  Â  0%,100% { transform: translateX(-50%) translateY(var(--y, 0px)) rotate(-2deg) translateX(-5px); }
Â  Â  Â  50%Â  Â  Â { transform: translateX(-50%) translateY(var(--y, 0px)) rotate( 2deg) translateX( 5px); }
Â  Â  }

Â  Â  @keyframes flicker {
Â  Â  Â  0%Â  Â { background: linear-gradient(#e7984a, #fad14f); }
Â  Â  Â  10%Â  { background: linear-gradient(#e9a25c, #fbd661); }
Â  Â  Â  45%Â  { background: linear-gradient(#e7984a, #fad14f); }
Â  Â  Â  75%Â  { background: linear-gradient(#e9a25c, #fbd661); }
Â  Â  Â  90%Â  { background: linear-gradient(#e7984a, #fad14f); }
Â  Â  Â  100% { background: linear-gradient(#e9a25c, #fbd661); }
Â  Â  }
Â  Â  @keyframes flicker-2 {
Â  Â  Â  0%Â  Â { background: #e7984a; }
Â  Â  Â  10%Â  { background: #e9a25c; }
Â  Â  Â  45%Â  { background: #e7984a; }
Â  Â  Â  75%Â  { background: #e9a25c; }
Â  Â  Â  90%Â  { background: #e7984a; }
Â  Â  Â  100% { background: #e9a25c; }
Â  Â  }

Â  Â  .lantern::before{
Â  Â  Â  content:"";
Â  Â  Â  position:absolute;
Â  Â  Â  inset:0;
Â  Â  Â  border-radius: calc(var(--size, 56px) * 0.16);
Â  Â  Â  background: linear-gradient(#e7984a, #fad14f);
Â  Â  Â  animation: flicker 750ms ease-in infinite alternate;
Â  Â  Â  z-index: 8;
Â  Â  Â  opacity: 0.92;
Â  Â  }

Â  Â  .lantern .body{
Â  Â  Â  position: relative;
Â  Â  Â  height: 100%;
Â  Â  Â  width: 100%;
Â  Â  Â  border-radius: calc(var(--size, 56px) * 0.16);
Â  Â  Â  overflow: hidden;
Â  Â  Â  display:flex;
Â  Â  Â  align-items:center;
Â  Â  Â  justify-content:center;
Â  Â  Â  z-index: 10;
Â  Â  }
Â  Â  .lantern .body::before{
Â  Â  Â  content:"";
Â  Â  Â  position:absolute;
Â  Â  Â  top: calc(var(--size, 56px) * -0.06);
Â  Â  Â  left: 0;
Â  Â  Â  width: 100%;
Â  Â  Â  height: calc(var(--size, 56px) * 0.12);
Â  Â  Â  background: #e7984a;
Â  Â  Â  border-top-left-radius: 50%;
Â  Â  Â  border-top-right-radius: 50%;
Â  Â  Â  z-index: 9;
Â  Â  Â  animation: flicker-2 750ms ease-in infinite alternate;
Â  Â  Â  opacity: 0.95;
Â  Â  }
Â  Â  .lantern .body::after{
Â  Â  Â  content:"";
Â  Â  Â  position:absolute;
Â  Â  Â  top: calc(var(--size, 56px) * 0.05);
Â  Â  Â  left: 0;
Â  Â  Â  right: 0;
Â  Â  Â  bottom: calc(var(--size, 56px) * 0.14);
Â  Â  Â  background-image: var(--lantern-symbol);
Â  Â  Â  background-position: center;
Â  Â  Â  background-repeat: no-repeat;
Â  Â  Â  background-size: cover;
Â  Â  Â  border-radius: calc(var(--size, 56px) * 0.12);
Â  Â  Â  z-index: 11;
Â  Â  Â  opacity: 0.92;
Â  Â  Â  mix-blend-mode: screen;
Â  Â  Â  filter: drop-shadow(0 0 7px rgba(255, 210, 140, 0.14));
Â  Â  Â  pointer-events:none;
Â  Â  }
Â  Â  .lantern .bottom{
Â  Â  Â  position:absolute;
Â  Â  Â  bottom: calc(var(--size, 56px) * -0.06);
Â  Â  Â  left: 0;
Â  Â  Â  width: 100%;
Â  Â  Â  height: calc(var(--size, 56px) * 0.12);
Â  Â  Â  background: #f0ac4a;
Â  Â  Â  border-radius: 50%;
Â  Â  Â  z-index: 12;
Â  Â  Â  opacity: 0.95;
Â  Â  Â  filter: drop-shadow(0 0 7px rgba(255, 210, 140, 0.20));
Â  Â  }

Â  Â  /* UI */
Â  Â  .ui{
Â  Â  Â  position:absolute; inset:0;
Â  Â  Â  display:flex;
Â  Â  Â  align-items:center;
Â  Â  Â  justify-content:center;
Â  Â  Â  padding: 18px;
Â  Â  Â  z-index: 20;
Â  Â  }

Â  Â  .card{
Â  Â  Â  width:min(560px, 92vw);
Â  Â  Â  text-align:center;
Â  Â  Â  padding: clamp(18px, 4vw, 34px);
Â  Â  Â  border-radius: 26px;
Â  Â  Â  background: rgba(10, 8, 26, 0.55);
Â  Â  Â  border: 1px solid rgba(255, 220, 170, 0.18);
Â  Â  Â  box-shadow: 0 18px 60px rgba(0,0,0,0.55), inset 0 0 0 1px rgba(255,255,255,0.04);
Â  Â  Â  backdrop-filter: blur(10px);
Â  Â  }

Â  Â  h1{
Â  Â  Â  margin: 0 0 12px;
Â  Â  Â  font-family: "Dancing Script", cursive;
Â  Â  Â  font-size: clamp(40px, 6vw, 64px);
Â  Â  Â  letter-spacing: 0.5px;
Â  Â  Â  color: #ffe7b3;
Â  Â  Â  text-shadow: 0 0 14px rgba(255, 210, 140, 0.55), 0 0 28px rgba(255, 110, 170, 0.28);
Â  Â  }

Â  Â  .sub{
Â  Â  Â  margin: 0 auto 22px;
Â  Â  Â  font-size: clamp(14px, 2.8vw, 16px);
Â  Â  Â  line-height: 1.55;
Â  Â  Â  max-width: 44ch;
Â  Â  Â  color: rgba(255,255,255,0.90);
Â  Â  Â  text-shadow: 0 0 10px rgba(255, 210, 140, 0.18);
Â  Â  }

Â  Â  .btn-row{
Â  Â  Â  position: relative;
Â  Â  Â  display:flex;
Â  Â  Â  align-items:center;
Â  Â  Â  justify-content:center;
Â  Â  Â  gap: 14px;
Â  Â  Â  margin-top: 16px;
Â  Â  Â  min-height: 74px;
Â  Â  }

Â  Â  button{
Â  Â  Â  font-family:"Montserrat",sans-serif;
Â  Â  Â  border:0;
Â  Â  Â  cursor:pointer;
Â  Â  Â  user-select:none;
Â  Â  Â  -webkit-tap-highlight-color: transparent;
Â  Â  }

Â  Â  .btn-yes{
Â  Â  Â  padding: 14px 22px;
Â  Â  Â  font-size: 16px;
Â  Â  Â  font-weight: 700;
Â  Â  Â  border-radius: 999px;
Â  Â  Â  color: #1b0a12;
Â  Â  Â  background: linear-gradient(135deg, var(--pink), var(--orange));
Â  Â  Â  box-shadow:
Â  Â  Â  Â  0 10px 24px rgba(255, 110, 170, 0.25),
Â  Â  Â  Â  0 10px 28px rgba(255, 154, 77, 0.18),
Â  Â  Â  Â  0 0 18px rgba(255, 230, 180, 0.28);
Â  Â  Â  transform: translateZ(0);
Â  Â  Â  transition: transform .15s ease, filter .15s ease;
Â  Â  }
Â  Â  .btn-yes:hover{ transform: translateY(-1px) scale(1.02); filter: brightness(1.05); }
Â  Â  .btn-yes:active{ transform: translateY(0px) scale(0.99); }

Â  Â  .btn-no{
Â  Â  Â  position: fixed;
Â  Â  Â  z-index: 30;
Â  Â  Â  padding: 12px 18px;
Â  Â  Â  font-size: 14px;
Â  Â  Â  font-weight: 600;
Â  Â  Â  border-radius: 999px;
Â  Â  Â  color: rgba(255,255,255,0.85);
Â  Â  Â  background: rgba(255,255,255,0.08);
Â  Â  Â  border: 1px solid rgba(255, 220, 170, 0.25);
Â  Â  Â  box-shadow: 0 0 18px rgba(255, 210, 140, 0.10);
Â  Â  Â  backdrop-filter: blur(6px);
Â  Â  Â  transition: transform .08s ease;
Â  Â  Â  left: 50%;
Â  Â  Â  top: 50%;
Â  Â  Â  transform: translate(-50%, -50%);
Â  Â  }
Â  Â  .btn-no:hover{ transform: translate(-50%, -50%) scale(1.02); }

Â  Â  .success{ display:none; text-align:center; }

Â  Â  .success h2{
Â  Â  Â  margin: 0 0 10px;
Â  Â  Â  font-family:"Dancing Script",cursive;
Â  Â  Â  font-size: clamp(44px, 6.3vw, 72px);
Â  Â  Â  color:#ffe7b3;
Â  Â  Â  text-shadow: 0 0 14px rgba(255, 210, 140, 0.60), 0 0 30px rgba(255, 110, 170, 0.30);
Â  Â  }
Â  Â  .success p{
Â  Â  Â  margin: 0;
Â  Â  Â  font-size: clamp(14px, 2.8vw, 16px);
Â  Â  Â  color: rgba(255,255,255,0.92);
Â  Â  Â  text-shadow: 0 0 10px rgba(255, 210, 140, 0.18);
Â  Â  }

Â  Â  .hint{ margin-top: 14px; font-size: 12px; color: rgba(255,255,255,0.55); }

Â  Â  @media (prefers-reduced-motion: reduce){
Â  Â  Â  .lantern{ animation: none !important; }
Â  Â  Â  .lantern::before,
Â  Â  Â  .lantern .body::before{ animation: none !important; }
Â  Â  Â  .btn-yes{ transition:none !important; }
Â  Â  }
Â  </style>
</head>

<body>
Â  <div class="scene" id="scene">
Â  Â  <div class="stars"></div>

Â  Â  <div class="lantern-layer layer-back" id="layerBack"></div>
Â  Â  <div class="lantern-layer layer-mid" id="layerMid"></div>
Â  Â  <div class="lantern-layer layer-front" id="layerFront"></div>

Â  Â  <div class="ui">
Â  Â  Â  <div class="card" id="card">
Â  Â  Â  Â  <div class="proposal" id="proposal">
Â  Â  Â  Â  Â  <h1>Will you be my date?</h1>
Â  Â  Â  Â  Â  <p class="sub">I was hoping we could share a little lantern-festival kind of magic together âœ¨</p>

Â  Â  Â  Â  Â  <div class="btn-row" id="btnRow">
Â  Â  Â  Â  Â  Â  <button class="btn-yes" id="yesBtn" type="button">Yes ğŸ’–</button>
Â  Â  Â  Â  Â  Â  <button class="btn-no" id="noBtn" type="button">No</button>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <div class="hint">Psstâ€¦ try to click â€œNoâ€ ğŸ˜„</div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="success" id="success">
Â  Â  Â  Â  Â  <h2>Yay! Itâ€™s a date!</h2>
Â  Â  Â  Â  Â  <p>Canâ€™t wait ğŸ®âœ¨</p>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>

Â  <script>
Â  Â  const layerBackÂ  = document.getElementById('layerBack');
Â  Â  const layerMidÂ  Â = document.getElementById('layerMid');
Â  Â  const layerFront = document.getElementById('layerFront');

Â  Â  function rand(min, max) { return Math.random() * (max - min) + min; }
Â  Â  function clamp(v, min, max){ return Math.max(min, Math.min(max, v)); }

Â  Â  function lanternHTML() {
Â  Â  Â  return `<div class="body"><div class="img"></div></div><div class="bottom"></div>`;
Â  Â  }
Â  Â Â 
Â  Â  function createLantern({ layerEl, sizePx, duration, delay, opacity, blur = 0 }) {
Â  Â  Â  const el = document.createElement('div');
Â  Â  Â  el.className = 'lantern';
Â  Â Â 
Â  Â  Â  el.style.setProperty('--size', `${sizePx}px`);
Â  Â  Â  el.style.setProperty('--dur', `${duration}s`);
Â  Â  Â  el.style.setProperty('--delay', `${delay}s`);
Â  Â  Â  el.style.setProperty('--op', opacity.toFixed(2));
Â  Â  Â  el.style.setProperty('--sway', `${rand(3.6, 6.2).toFixed(2)}s`);
Â  Â Â 
Â  Â  Â  // ğŸ‘‡ THIS IS THE IMPORTANT PART
Â  Â  Â  el.style.left = `${rand(3, 97)}%`;
Â  Â  Â  const isMobile = window.innerWidth < 520;
Â  Â  Â  const topMax = isMobile ? 70 : 60;
Â  Â  Â  el.style.top = `${rand(2, topMax)}%`;
Â  Â Â 
Â  Â  Â  if (blur > 0) {
Â  Â  Â  Â  el.style.filter = `blur(${blur}px) drop-shadow(0 0 9px rgba(255, 210, 140, 0.20)) drop-shadow(0 0 16px rgba(255, 120, 190, 0.12))`;
Â  Â  Â  }
Â  Â Â 
Â  Â  Â  el.innerHTML = lanternHTML();
Â  Â  Â  layerEl.appendChild(el);
Â  Â  }


Â  Â  function seedLanterns() {
Â  Â  Â  layerBack.innerHTML = '';
Â  Â  Â  layerMid.innerHTML = '';
Â  Â  Â  layerFront.innerHTML = '';

Â  Â  Â  const isMobile = window.innerWidth < 520;

Â  Â  Â  /* Reduced counts + smaller sizes.
Â  Â  Â  Â  Â Goal: fill top ~60% without feeling crowded. */
Â  Â  Â  const backCountÂ  = isMobile ? 10 : 34;
Â  Â  Â  const midCountÂ  Â = isMobile ? 12 : 36;
Â  Â  Â  const frontCount = isMobile ? 7Â  : 20;

Â  Â  Â  // Back (small + subtle)
Â  Â  Â  for (let i = 0; i < backCount; i++) {
Â  Â  Â  Â  createLantern({
Â  Â  Â  Â  Â  layerEl: layerBack,
Â  Â  Â  Â  Â  sizePx: rand(isMobile ? 16 : 8, isMobile ? 26 : 18),
Â  Â  Â  Â  Â  duration: rand(9.5, 11.5),Â  Â  Â // ~10s
Â  Â  Â  Â  Â  delay: rand(0, 8),
Â  Â  Â  Â  Â  opacity: rand(0.22, 0.42),
Â  Â  Â  Â  Â  blur: 0.7
Â  Â  Â  Â  });
Â  Â  Â  }

Â  Â  Â  // Mid
Â  Â  Â  for (let i = 0; i < midCount; i++) {
Â  Â  Â  Â  createLantern({
Â  Â  Â  Â  Â  layerEl: layerMid,
Â  Â  Â  Â  Â  sizePx: rand(isMobile ? 22 : 14, isMobile ? 34 : 28),
Â  Â  Â  Â  Â  duration: rand(9.5, 12.0),
Â  Â  Â  Â  Â  delay: rand(0, 8),
Â  Â  Â  Â  Â  opacity: rand(0.32, 0.55),
Â  Â  Â  Â  Â  blur: 0
Â  Â  Â  Â  });
Â  Â  Â  }

Â  Â  Â  // Front (still modest)
Â  Â  Â  for (let i = 0; i < frontCount; i++) {
Â  Â  Â  Â  createLantern({
Â  Â  Â  Â  Â  layerEl: layerFront,
Â  Â  Â  Â  Â  sizePx: rand(isMobile ? 34 : 38, isMobile ? 48 : 56),
Â  Â  Â  Â  Â  duration: rand(9.0, 11.0),
Â  Â  Â  Â  Â  delay: rand(0, 7),
Â  Â  Â  Â  Â  opacity: rand(0.42, 0.70),
Â  Â  Â  Â  Â  blur: 0
Â  Â  Â  Â  });
Â  Â  Â  }
Â  Â  }

Â  Â  // --- No button: runs around near center (never disappears) ---
Â  Â  const noBtnÂ  = document.getElementById('noBtn');
Â  Â  const yesBtn = document.getElementById('yesBtn');

Â  Â  function centerRegion() {
Â  Â  Â  const w = window.innerWidth;
Â  Â  Â  const h = window.innerHeight;
Â  Â  Â  const regionW = Math.min(w * (w < 520 ? 0.70 : 0.55), 620);
Â  Â  Â  const regionH = Math.min(h * (h < 520 ? 0.38 : 0.34), 360);
Â  Â  Â  const left = (w - regionW) / 2;
Â  Â  Â  const topÂ  = (h - regionH) / 2;
Â  Â  Â  return { left, top, right: left + regionW, bottom: top + regionH };
Â  Â  }

Â  Â  function moveNoButtonCenterish() {
Â  Â  Â  const r = centerRegion();
Â  Â  Â  const rect = noBtn.getBoundingClientRect();

Â  Â  Â  const pad = 10;
Â  Â  Â  const maxX = r.right - rect.width - pad;
Â  Â  Â  const maxY = r.bottom - rect.height - pad;
Â  Â  Â  const minX = r.left + pad;
Â  Â  Â  const minY = r.top + pad;

Â  Â  Â  let x = rand(minX, Math.max(minX, maxX));
Â  Â  Â  let y = rand(minY, Math.max(minY, maxY));

Â  Â  Â  const yesRect = yesBtn.getBoundingClientRect();
Â  Â  Â  const safe = window.innerWidth < 520 ? 90 : 120;

Â  Â  Â  const overlapsYes =
Â  Â  Â  Â  x < (yesRect.left + yesRect.width + safe) &&
Â  Â  Â  Â  x + rect.width > (yesRect.left - safe) &&
Â  Â  Â  Â  y < (yesRect.top + yesRect.height + safe) &&
Â  Â  Â  Â  y + rect.height > (yesRect.top - safe);

Â  Â  Â  if (overlapsYes) {
Â  Â  Â  Â  y = clamp(y - safe, minY, Math.max(minY, maxY));
Â  Â  Â  Â  x = clamp(x + safe * 0.35, minX, Math.max(minX, maxX));
Â  Â  Â  }

Â  Â  Â  noBtn.style.left = `${x}px`;
Â  Â  Â  noBtn.style.topÂ  = `${y}px`;
Â  Â  }

Â  Â  noBtn.addEventListener('mouseenter', moveNoButtonCenterish);
Â  Â  noBtn.addEventListener('mousedown', (e) => { e.preventDefault(); moveNoButtonCenterish(); });
Â  Â  noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); moveNoButtonCenterish(); }, { passive: false });
Â  Â  noBtn.setAttribute('ontouchstart', '');

Â  Â  // --- Yes button success state + celebratory lantern burst ---

Â  Â  const proposal = document.getElementById('proposal');
Â  Â  const successÂ  = document.getElementById('success');

Â  Â  function lanternBurst(count = 14) {
Â  Â  Â  for (let i = 0; i < count; i++) {
Â  Â  Â  Â  const pick = Math.random();
Â  Â  Â  Â  const isMobile = window.innerWidth < 520;

Â  Â  Â  Â  let layerEl, size, dur, op, blur;
Â  Â  Â  Â  if (pick < 0.25) {
Â  Â  Â  Â  Â  layerEl = layerBack; size = rand(isMobile ? 16 : 18, isMobile ? 26 : 28); dur = rand(9.5, 12); op = rand(0.20, 0.40); blur = 0.7;
Â  Â  Â  Â  } else if (pick < 0.7) {
Â  Â  Â  Â  Â  layerEl = layerMid;Â  size = rand(isMobile ? 22 : 24, isMobile ? 36 : 40); dur = rand(9.5, 12); op = rand(0.30, 0.55); blur = 0;
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  layerEl = layerFront; size = rand(isMobile ? 36 : 40, isMobile ? 50 : 58); dur = rand(9.0, 11.5); op = rand(0.45, 0.72); blur = 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  createLantern({
Â  Â  Â  Â  Â  layerEl,
Â  Â  Â  Â  Â  sizePx: size,
Â  Â  Â  Â  Â  duration: dur,
Â  Â  Â  Â  Â  delay: rand(0, 2),
Â  Â  Â  Â  Â  opacity: op,
Â  Â  Â  Â  Â  blur
Â  Â  Â  Â  });
Â  Â  Â  }
Â  Â  }

Â  Â  yesBtn.addEventListener('click', () => {
Â  Â  Â  proposal.style.display = 'none';
Â  Â  Â  success.style.display = 'block';
Â  Â  Â  lanternBurst(window.innerWidth < 520 ? 10 : 14);
Â  Â  });

Â  Â  // Init
Â  Â  seedLanterns();
Â  Â  moveNoButtonCenterish();

Â  Â  let resizeT;
Â  Â  window.addEventListener('resize', () => {
Â  Â  Â  clearTimeout(resizeT);
Â  Â  Â  resizeT = setTimeout(() => {
Â  Â  Â  Â  seedLanterns();
Â  Â  Â  Â  moveNoButtonCenterish();
Â  Â  Â  }, 150);
Â  Â  });

Â  Â  if ('ontouchstart' in window) {
Â  Â  Â  setTimeout(() => moveNoButtonCenterish(), 650);
Â  Â  }
Â  </script>
</body>
</html>
